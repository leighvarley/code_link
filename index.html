<!DOCTYPE html>
<html lang='en' ng-app='codelink'>
  <head>
    <meta charset="UTF-8">
    <title>CodeLink</title>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/angular/angular.min.js"></script>
    <!-- <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script> -->
    <script type="text/javascript" src="js/controllers/reviews.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"/>
  </head>

  <body ng-controller="codelinkController as codelinkCtrl">

    <header>
      <h1>CodeLink</h1>
      <h2>Crowdsoured resources learning code</h2>
    </header>

    <section ng-controller="panelController as panelCtrl">
      <ul class="nav nav-pills">
        <!-- check to see if expression is true, if it is, set class to active -->
        <li ng-class="{active:panel.isSelected(1)}">
          <a href ng-click="panel.selectTab(1)">Language</a></li>
        <li ng-class="{active:panel.isSelected(2)}">
          <a href ng-click="panel.selectTab(2)">Quality</a></li>
        <li ng-class="{active:panel.isSelected(3)}">
          <a href ng-click="panel.selectTab(3)">Skill Level</a></li>
      </ul>

      <div class="panel" ng-show="panel.isSelected(1)">
        <h3>Language</h3>
        <p>{{tool.languages}}</p>
      </div>
      <div class="panel" ng-show="panel.isSelected(2)">
        <h3>Quality</h3>
        <p>{{tool.quality}}</p>
      </div>
      <div class="panel" ng-show="panel.isSelected(3)">
        <h3>Skill Level</h3>
        <p>{{tool.skillLevel}}</p>
      </div>

    </section>


    <div class="tool-list">
      <div ng-repeat="tool in codelinkCtrl.tools | orderBy: '-quality'">
        <h3>{{tool.name}}</h3>
        <p>{{tool.author}}</p>
        <p>{{tool.languages | uppercase}}</p>
        <p>{{tool.link}}</p>
        <p>{{tool.description | limitTo: 300}}</p>
        <p>{{tool.quality}}</p>
        <p>{{tool.skillLevel}}</p>
        <!-- only show button if value of the expression is true -->
        <button type="button" class="btn btn-primary" ng-show="tool.canReview">Add a Review</button>

      <!-- Loop through reviews -->


        <!-- Review Form -->
        <form name="reviewForm" ng-controller="reviewController as reviewCtrl" ng-submit="reviewCtrl.addReview()">

        <h3>Reviews</h3>
          <blockquote ng-repeat="review in tools.reviews">
            <p>Name: {{reviewCtrl.review.name}}</p>
            <p>By: {{reviewCtrl.review.author}}</p>
            <p>Link: {{reviewCtrl.review.link}}</p>
            <p>Description: {{reviewCtrl.review.description}}</p>
            <p>Quality: {{reviewCtrl.review.quality}}</p>
            <p>Skill level: {{reviewCtrl.review.skillLevel}}</p>
            <p>Languages: {{reviewCtrl.review.languages}}</p>
          </blockquote>

          <h3>Submit a Review</h3
          <label>Resource Name</label>
          <!-- ng-model binds form element value to property for two-way data binding -->
          <input ng-model="review.name" type="text">
          <label>Link</label>
          <input ng-model="review.link" type="url">
          <label>Skill Level</label>
          <select ng-model="review.skillLevel">
              <option value="1">Level 1</option>
              <option value="2">Level 2</option>
              <option value="3">Level 3</option>
              <option value="4">Level 4</option>
              <option value="5">Level 5</option>
          <label>Languages, tools and frameworks</label>
              <p><input ng-model="review.languages" type="radio" value="HTML">HTML</p>
              <p><input ng-model="review.languages" type="radio" value="CSS">CSS</p>
              <p><input ng-model="review.languages" type="radio" value="JavaScript">JavaScript</p>
              <p><input ng-model="review.languages" type="radio" value="ROR">Ruby on Rails</p>
              <p><input ng-model="review.languages" type="radio" value="Python">Python</p>
              <p><input ng-model="review.languages" type="radio" value="Angular">Angular</p>
          <label>Description</label>
          <textarea ng-model="review.description"></textarea>
          <label>Quality</label>
          <select ng-model="review.quality">
              <option value="1">1 star</option>
              <option value="2">2 stars</option>
              <option value="3">3 stars</option>
              <option value="4">4 stars</option>
              <option value="5">5 stars</option>
          <input type="submit" value="Submit">

        </div>

    </div>

  </body>
</html>
